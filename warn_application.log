16:19:31.201 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils– Could not detect default configuration classes for test class [com.fox.factory.ProductControllerTests]: ProductControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:19:31.454 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper– Found @SpringBootConfiguration com.fox.factory.FactoryApplication for test class com.fox.factory.ProductControllerTests
16:19:32.169 [background-preinit] INFO  o.h.validator.internal.util.Version– HV000001: Hibernate Validator 8.0.0.Final
16:19:32.277 [main] INFO  c.f.factory.ProductControllerTests– Starting ProductControllerTests using Java 17.0.6 with PID 34812 (started by kave7 in C:\Users\kave7\IdeaProjects\factory)
16:19:32.279 [main] INFO  c.f.factory.ProductControllerTests– No active profile set, falling back to 1 default profile: "default"
16:19:33.649 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:19:33.839 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Finished Spring Data repository scanning in 178 ms. Found 8 JPA repository interfaces.
16:19:36.331 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat initialized with port(s): 0 (http)
16:19:36.349 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Initializing ProtocolHandler ["http-nio-auto-1"]
16:19:36.351 [main] INFO  o.a.catalina.core.StandardService– Starting service [Tomcat]
16:19:36.352 [main] INFO  o.a.catalina.core.StandardEngine– Starting Servlet engine: [Apache Tomcat/10.1.5]
16:19:36.567 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring embedded WebApplicationContext
16:19:36.568 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext– Root WebApplicationContext: initialization completed in 4248 ms
16:19:37.146 [main] INFO  o.h.jpa.internal.util.LogHelper– HHH000204: Processing PersistenceUnitInfo [name: default]
16:19:37.292 [main] INFO  org.hibernate.Version– HHH000412: Hibernate ORM core version 6.1.7.Final
16:19:37.976 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Starting...
16:19:38.455 [main] INFO  com.zaxxer.hikari.pool.HikariPool– HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@21a0795f
16:19:38.459 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Start completed.
16:19:38.615 [main] INFO  SQL dialect– HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
16:19:41.364 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator– HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
16:19:41.377 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Initialized JPA EntityManagerFactory for persistence unit 'default'
16:19:42.687 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration– spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:19:43.004 [main] INFO  o.s.s.w.DefaultSecurityFilterChain– Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1368e451, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ce365b7, org.springframework.security.web.context.SecurityContextHolderFilter@3a892b9f, org.springframework.security.web.header.HeaderWriterFilter@4ca6e265, org.springframework.security.web.authentication.logout.LogoutFilter@2b55ac77, com.fox.factory.security.JwtAuthenticationFilter@34986491, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d436e51, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35cc5b75, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2296ed0d, org.springframework.security.web.session.SessionManagementFilter@60eacbbf, org.springframework.security.web.access.ExceptionTranslationFilter@363d3958, org.springframework.security.web.access.intercept.AuthorizationFilter@34f876c]
16:19:59.693 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver– Exposing 1 endpoint(s) beneath base path '/actuator'
16:19:59.857 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Starting ProtocolHandler ["http-nio-auto-1"]
16:19:59.952 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat started on port(s): 57628 (http) with context path ''
16:19:59.981 [main] INFO  c.f.factory.ProductControllerTests– Started ProductControllerTests in 28.2 seconds (process running for 40.54)
16:20:00.504 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring DispatcherServlet 'dispatcherServlet'
16:20:00.505 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Initializing Servlet 'dispatcherServlet'
16:20:00.508 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Completed initialization in 3 ms
16:20:00.593 [http-nio-auto-1-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver– Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'text/plain;charset=UTF-8' is not supported]
16:20:00.820 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Closing JPA EntityManagerFactory for persistence unit 'default'
16:20:00.824 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown initiated...
16:20:00.831 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown completed.
16:24:39.268 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils– Could not detect default configuration classes for test class [com.fox.factory.ProductControllerTests]: ProductControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:24:39.454 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper– Found @SpringBootConfiguration com.fox.factory.FactoryApplication for test class com.fox.factory.ProductControllerTests
16:24:40.063 [background-preinit] INFO  o.h.validator.internal.util.Version– HV000001: Hibernate Validator 8.0.0.Final
16:24:40.158 [main] INFO  c.f.factory.ProductControllerTests– Starting ProductControllerTests using Java 17.0.6 with PID 48404 (started by kave7 in C:\Users\kave7\IdeaProjects\factory)
16:24:40.160 [main] INFO  c.f.factory.ProductControllerTests– No active profile set, falling back to 1 default profile: "default"
16:24:41.414 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:24:41.557 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Finished Spring Data repository scanning in 132 ms. Found 8 JPA repository interfaces.
16:24:44.473 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat initialized with port(s): 0 (http)
16:24:44.484 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Initializing ProtocolHandler ["http-nio-auto-1"]
16:24:44.486 [main] INFO  o.a.catalina.core.StandardService– Starting service [Tomcat]
16:24:44.486 [main] INFO  o.a.catalina.core.StandardEngine– Starting Servlet engine: [Apache Tomcat/10.1.5]
16:24:44.645 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring embedded WebApplicationContext
16:24:44.645 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext– Root WebApplicationContext: initialization completed in 4446 ms
16:24:45.428 [main] INFO  o.h.jpa.internal.util.LogHelper– HHH000204: Processing PersistenceUnitInfo [name: default]
16:24:45.654 [main] INFO  org.hibernate.Version– HHH000412: Hibernate ORM core version 6.1.7.Final
16:24:46.292 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Starting...
16:24:46.614 [main] INFO  com.zaxxer.hikari.pool.HikariPool– HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1f4cb17b
16:24:46.619 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Start completed.
16:24:46.683 [main] INFO  SQL dialect– HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
16:24:48.549 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator– HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
16:24:48.565 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Initialized JPA EntityManagerFactory for persistence unit 'default'
16:24:50.519 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration– spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:24:51.005 [main] INFO  o.s.s.w.DefaultSecurityFilterChain– Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@bf2f2ce, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b1d3a05, org.springframework.security.web.context.SecurityContextHolderFilter@567412db, org.springframework.security.web.header.HeaderWriterFilter@5eaab295, org.springframework.security.web.authentication.logout.LogoutFilter@53c68ea5, com.fox.factory.security.JwtAuthenticationFilter@561b4c61, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d3bb293, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4248608d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@cc41d2d, org.springframework.security.web.session.SessionManagementFilter@70376c6, org.springframework.security.web.access.ExceptionTranslationFilter@35825d43, org.springframework.security.web.access.intercept.AuthorizationFilter@12ec5e73]
16:25:04.741 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver– Exposing 1 endpoint(s) beneath base path '/actuator'
16:25:04.998 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Starting ProtocolHandler ["http-nio-auto-1"]
16:25:05.075 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat started on port(s): 61218 (http) with context path ''
16:25:05.110 [main] INFO  c.f.factory.ProductControllerTests– Started ProductControllerTests in 25.401 seconds (process running for 36.567)
16:25:05.622 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring DispatcherServlet 'dispatcherServlet'
16:25:05.623 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Initializing Servlet 'dispatcherServlet'
16:25:05.624 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Completed initialization in 1 ms
16:25:06.001 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Closing JPA EntityManagerFactory for persistence unit 'default'
16:25:06.006 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown initiated...
16:25:06.012 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown completed.
16:26:48.119 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils– Could not detect default configuration classes for test class [com.fox.factory.ProductControllerTests]: ProductControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:26:48.507 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper– Found @SpringBootConfiguration com.fox.factory.FactoryApplication for test class com.fox.factory.ProductControllerTests
16:26:49.632 [background-preinit] INFO  o.h.validator.internal.util.Version– HV000001: Hibernate Validator 8.0.0.Final
16:26:49.827 [main] INFO  c.f.factory.ProductControllerTests– Starting ProductControllerTests using Java 17.0.6 with PID 40612 (started by kave7 in C:\Users\kave7\IdeaProjects\factory)
16:26:49.829 [main] INFO  c.f.factory.ProductControllerTests– No active profile set, falling back to 1 default profile: "default"
16:26:51.449 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:26:51.739 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Finished Spring Data repository scanning in 270 ms. Found 8 JPA repository interfaces.
16:26:55.087 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat initialized with port(s): 0 (http)
16:26:55.110 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Initializing ProtocolHandler ["http-nio-auto-1"]
16:26:55.113 [main] INFO  o.a.catalina.core.StandardService– Starting service [Tomcat]
16:26:55.114 [main] INFO  o.a.catalina.core.StandardEngine– Starting Servlet engine: [Apache Tomcat/10.1.5]
16:26:55.377 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring embedded WebApplicationContext
16:26:55.378 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext– Root WebApplicationContext: initialization completed in 5486 ms
16:26:56.108 [main] INFO  o.h.jpa.internal.util.LogHelper– HHH000204: Processing PersistenceUnitInfo [name: default]
16:26:56.292 [main] INFO  org.hibernate.Version– HHH000412: Hibernate ORM core version 6.1.7.Final
16:26:57.167 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Starting...
16:26:57.487 [main] INFO  com.zaxxer.hikari.pool.HikariPool– HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1f4cb17b
16:26:57.493 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Start completed.
16:26:57.567 [main] INFO  SQL dialect– HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
16:26:59.738 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator– HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
16:26:59.753 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Initialized JPA EntityManagerFactory for persistence unit 'default'
16:27:01.433 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration– spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:27:01.846 [main] INFO  o.s.s.w.DefaultSecurityFilterChain– Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@12ec5e73, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@145c6e4d, org.springframework.security.web.context.SecurityContextHolderFilter@70376c6, org.springframework.security.web.header.HeaderWriterFilter@2fedf25b, org.springframework.security.web.authentication.logout.LogoutFilter@65c97eeb, com.fox.factory.security.JwtAuthenticationFilter@561b4c61, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55c75b72, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@567412db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@689504b1, org.springframework.security.web.session.SessionManagementFilter@2181144e, org.springframework.security.web.access.ExceptionTranslationFilter@3d2af8d7, org.springframework.security.web.access.intercept.AuthorizationFilter@2b55ac77]
16:27:16.086 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver– Exposing 1 endpoint(s) beneath base path '/actuator'
16:27:16.259 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Starting ProtocolHandler ["http-nio-auto-1"]
16:27:16.354 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat started on port(s): 62676 (http) with context path ''
16:27:16.383 [main] INFO  c.f.factory.ProductControllerTests– Started ProductControllerTests in 27.434 seconds (process running for 39.205)
16:27:16.907 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring DispatcherServlet 'dispatcherServlet'
16:27:16.908 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Initializing Servlet 'dispatcherServlet'
16:27:16.912 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Completed initialization in 3 ms
16:27:17.273 [http-nio-auto-1-exec-1] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 235 method execution(public com.fox.factory.entities.dto.ProductDetailDto com.fox.factory.service.ProductService.findById(java.lang.Long))
16:27:17.691 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Closing JPA EntityManagerFactory for persistence unit 'default'
16:27:17.695 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown initiated...
16:27:17.702 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown completed.
16:41:00.369 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils– Could not detect default configuration classes for test class [com.fox.factory.ProductControllerTests]: ProductControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:41:00.554 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper– Found @SpringBootConfiguration com.fox.factory.FactoryApplication for test class com.fox.factory.ProductControllerTests
16:41:01.143 [background-preinit] INFO  o.h.validator.internal.util.Version– HV000001: Hibernate Validator 8.0.0.Final
16:41:01.250 [main] INFO  c.f.factory.ProductControllerTests– Starting ProductControllerTests using Java 17.0.6 with PID 32868 (started by kave7 in C:\Users\kave7\IdeaProjects\factory)
16:41:01.252 [main] INFO  c.f.factory.ProductControllerTests– No active profile set, falling back to 1 default profile: "default"
16:41:02.621 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:41:02.798 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Finished Spring Data repository scanning in 162 ms. Found 8 JPA repository interfaces.
16:41:05.983 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat initialized with port(s): 0 (http)
16:41:06.026 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Initializing ProtocolHandler ["http-nio-auto-1"]
16:41:06.028 [main] INFO  o.a.catalina.core.StandardService– Starting service [Tomcat]
16:41:06.029 [main] INFO  o.a.catalina.core.StandardEngine– Starting Servlet engine: [Apache Tomcat/10.1.5]
16:41:06.260 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring embedded WebApplicationContext
16:41:06.261 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext– Root WebApplicationContext: initialization completed in 4973 ms
16:41:08.007 [main] INFO  o.h.jpa.internal.util.LogHelper– HHH000204: Processing PersistenceUnitInfo [name: default]
16:41:08.222 [main] INFO  org.hibernate.Version– HHH000412: Hibernate ORM core version 6.1.7.Final
16:41:08.813 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Starting...
16:41:09.153 [main] INFO  com.zaxxer.hikari.pool.HikariPool– HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@66a8ff6d
16:41:09.158 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Start completed.
16:41:09.226 [main] INFO  SQL dialect– HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
16:41:11.358 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator– HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
16:41:11.378 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Initialized JPA EntityManagerFactory for persistence unit 'default'
16:41:13.844 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration– spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:41:14.349 [main] INFO  o.s.s.w.DefaultSecurityFilterChain– Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77a27356, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73c21b13, org.springframework.security.web.context.SecurityContextHolderFilter@3c380db5, org.springframework.security.web.header.HeaderWriterFilter@7220ff10, org.springframework.security.web.authentication.logout.LogoutFilter@5d8edf2, com.fox.factory.security.JwtAuthenticationFilter@61f2bf3a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f9d7d3f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@264f18fe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66e6e5e9, org.springframework.security.web.session.SessionManagementFilter@24c8bc1e, org.springframework.security.web.access.ExceptionTranslationFilter@25f3207e, org.springframework.security.web.access.intercept.AuthorizationFilter@c310aa3]
16:41:29.418 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring TestDispatcherServlet ''
16:41:29.419 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Initializing Servlet ''
16:41:29.431 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver– Exposing 1 endpoint(s) beneath base path '/actuator'
16:41:29.459 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Completed initialization in 40 ms
16:41:29.612 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Starting ProtocolHandler ["http-nio-auto-1"]
16:41:29.693 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat started on port(s): 53018 (http) with context path ''
16:41:29.719 [main] INFO  c.f.factory.ProductControllerTests– Started ProductControllerTests in 28.957 seconds (process running for 40.187)
16:41:30.392 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Closing JPA EntityManagerFactory for persistence unit 'default'
16:41:30.396 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown initiated...
16:41:30.406 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown completed.
16:43:26.361 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils– Could not detect default configuration classes for test class [com.fox.factory.ProductControllerTests]: ProductControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:43:26.552 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper– Found @SpringBootConfiguration com.fox.factory.FactoryApplication for test class com.fox.factory.ProductControllerTests
16:43:27.212 [background-preinit] INFO  o.h.validator.internal.util.Version– HV000001: Hibernate Validator 8.0.0.Final
16:43:27.326 [main] INFO  c.f.factory.ProductControllerTests– Starting ProductControllerTests using Java 17.0.6 with PID 41868 (started by kave7 in C:\Users\kave7\IdeaProjects\factory)
16:43:27.328 [main] INFO  c.f.factory.ProductControllerTests– No active profile set, falling back to 1 default profile: "default"
16:43:28.671 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:43:28.838 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Finished Spring Data repository scanning in 152 ms. Found 8 JPA repository interfaces.
16:43:31.689 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat initialized with port(s): 0 (http)
16:43:31.709 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Initializing ProtocolHandler ["http-nio-auto-1"]
16:43:31.711 [main] INFO  o.a.catalina.core.StandardService– Starting service [Tomcat]
16:43:31.712 [main] INFO  o.a.catalina.core.StandardEngine– Starting Servlet engine: [Apache Tomcat/10.1.5]
16:43:31.995 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring embedded WebApplicationContext
16:43:31.996 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext– Root WebApplicationContext: initialization completed in 4629 ms
16:43:32.801 [main] INFO  o.h.jpa.internal.util.LogHelper– HHH000204: Processing PersistenceUnitInfo [name: default]
16:43:32.991 [main] INFO  org.hibernate.Version– HHH000412: Hibernate ORM core version 6.1.7.Final
16:43:33.671 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Starting...
16:43:33.971 [main] INFO  com.zaxxer.hikari.pool.HikariPool– HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b9b5da5
16:43:33.975 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Start completed.
16:43:34.023 [main] INFO  SQL dialect– HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
16:43:35.981 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator– HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
16:43:35.998 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Initialized JPA EntityManagerFactory for persistence unit 'default'
16:43:38.223 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration– spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:43:39.342 [main] INFO  o.s.s.w.DefaultSecurityFilterChain– Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@74c919b2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79224636, org.springframework.security.web.context.SecurityContextHolderFilter@404a7c61, org.springframework.security.web.header.HeaderWriterFilter@44f86613, org.springframework.security.web.authentication.logout.LogoutFilter@1849d35a, com.fox.factory.security.JwtAuthenticationFilter@571360b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1da9f44c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16a83016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35307365, org.springframework.security.web.session.SessionManagementFilter@776eb512, org.springframework.security.web.access.ExceptionTranslationFilter@5a640f98, org.springframework.security.web.access.intercept.AuthorizationFilter@565b77ba]
16:43:58.921 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring TestDispatcherServlet ''
16:43:58.922 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Initializing Servlet ''
16:43:58.936 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver– Exposing 1 endpoint(s) beneath base path '/actuator'
16:43:58.972 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Completed initialization in 50 ms
16:43:59.112 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Starting ProtocolHandler ["http-nio-auto-1"]
16:43:59.242 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat started on port(s): 54883 (http) with context path ''
16:43:59.274 [main] INFO  c.f.factory.ProductControllerTests– Started ProductControllerTests in 32.479 seconds (process running for 44.163)
16:44:00.230 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 291 method execution(public java.util.List com.fox.factory.service.CatrgoryService.getAll())
16:44:00.627 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring DispatcherServlet 'dispatcherServlet'
16:44:00.629 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Initializing Servlet 'dispatcherServlet'
16:44:00.630 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Completed initialization in 1 ms
16:44:01.072 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Closing JPA EntityManagerFactory for persistence unit 'default'
16:44:01.077 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown initiated...
16:44:01.091 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown completed.
16:46:16.509 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils– Could not detect default configuration classes for test class [com.fox.factory.ProductControllerTests]: ProductControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:46:16.710 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper– Found @SpringBootConfiguration com.fox.factory.FactoryApplication for test class com.fox.factory.ProductControllerTests
16:46:17.343 [background-preinit] INFO  o.h.validator.internal.util.Version– HV000001: Hibernate Validator 8.0.0.Final
16:46:17.459 [main] INFO  c.f.factory.ProductControllerTests– Starting ProductControllerTests using Java 17.0.6 with PID 39700 (started by kave7 in C:\Users\kave7\IdeaProjects\factory)
16:46:17.462 [main] INFO  c.f.factory.ProductControllerTests– No active profile set, falling back to 1 default profile: "default"
16:46:18.757 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:46:18.935 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Finished Spring Data repository scanning in 164 ms. Found 8 JPA repository interfaces.
16:46:21.792 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat initialized with port(s): 0 (http)
16:46:21.818 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Initializing ProtocolHandler ["http-nio-auto-1"]
16:46:21.820 [main] INFO  o.a.catalina.core.StandardService– Starting service [Tomcat]
16:46:21.821 [main] INFO  o.a.catalina.core.StandardEngine– Starting Servlet engine: [Apache Tomcat/10.1.5]
16:46:22.111 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring embedded WebApplicationContext
16:46:22.112 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext– Root WebApplicationContext: initialization completed in 4614 ms
16:46:22.763 [main] INFO  o.h.jpa.internal.util.LogHelper– HHH000204: Processing PersistenceUnitInfo [name: default]
16:46:22.904 [main] INFO  org.hibernate.Version– HHH000412: Hibernate ORM core version 6.1.7.Final
16:46:23.574 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Starting...
16:46:23.889 [main] INFO  com.zaxxer.hikari.pool.HikariPool– HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b9b5da5
16:46:23.894 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Start completed.
16:46:23.977 [main] INFO  SQL dialect– HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
16:46:26.116 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator– HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
16:46:26.133 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Initialized JPA EntityManagerFactory for persistence unit 'default'
16:46:27.627 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration– spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:46:28.001 [main] INFO  o.s.s.w.DefaultSecurityFilterChain– Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@74c919b2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79224636, org.springframework.security.web.context.SecurityContextHolderFilter@404a7c61, org.springframework.security.web.header.HeaderWriterFilter@44f86613, org.springframework.security.web.authentication.logout.LogoutFilter@1849d35a, com.fox.factory.security.JwtAuthenticationFilter@571360b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1da9f44c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16a83016, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35307365, org.springframework.security.web.session.SessionManagementFilter@776eb512, org.springframework.security.web.access.ExceptionTranslationFilter@5a640f98, org.springframework.security.web.access.intercept.AuthorizationFilter@565b77ba]
16:46:43.892 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring TestDispatcherServlet ''
16:46:43.892 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Initializing Servlet ''
16:46:43.901 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver– Exposing 1 endpoint(s) beneath base path '/actuator'
16:46:43.933 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Completed initialization in 41 ms
16:46:44.057 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Starting ProtocolHandler ["http-nio-auto-1"]
16:46:44.126 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat started on port(s): 55524 (http) with context path ''
16:46:44.153 [main] INFO  c.f.factory.ProductControllerTests– Started ProductControllerTests in 27.202 seconds (process running for 38.916)
16:46:45.105 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 313 method execution(public java.util.List com.fox.factory.service.CatrgoryService.getAll())
16:46:45.439 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring DispatcherServlet 'dispatcherServlet'
16:46:45.440 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Initializing Servlet 'dispatcherServlet'
16:46:45.442 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Completed initialization in 2 ms
16:46:45.740 [http-nio-auto-1-exec-1] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 66 method execution(public com.fox.factory.entities.dto.CommentsDto com.fox.factory.service.CommentService.create(com.fox.factory.entities.dto.CommentCreateDto))
16:46:45.782 [http-nio-auto-1-exec-1] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 178 method execution(public com.fox.factory.entities.dto.ProductDetailDto com.fox.factory.service.ProductService.commentProduct(java.lang.Long,com.fox.factory.entities.dto.CommentCreateDto))
16:46:46.293 [http-nio-auto-1-exec-3] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 264 method execution(public java.util.List com.fox.factory.service.ProductService.findByCategoriesAndNames(java.util.List,java.lang.String,org.springframework.data.domain.Pageable))
16:46:46.445 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Closing JPA EntityManagerFactory for persistence unit 'default'
16:46:46.449 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown initiated...
16:46:46.456 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown completed.
18:34:10.590 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils– Could not detect default configuration classes for test class [com.fox.factory.ProductControllerTests]: ProductControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:34:10.899 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper– Found @SpringBootConfiguration com.fox.factory.FactoryApplication for test class com.fox.factory.ProductControllerTests
18:34:11.886 [background-preinit] INFO  o.h.validator.internal.util.Version– HV000001: Hibernate Validator 8.0.0.Final
18:34:12.020 [main] INFO  c.f.factory.ProductControllerTests– Starting ProductControllerTests using Java 17.0.6 with PID 31684 (started by kave7 in C:\Users\kave7\IdeaProjects\factory)
18:34:12.022 [main] INFO  c.f.factory.ProductControllerTests– No active profile set, falling back to 1 default profile: "default"
18:34:13.926 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:34:14.098 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Finished Spring Data repository scanning in 155 ms. Found 8 JPA repository interfaces.
18:34:17.276 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat initialized with port(s): 0 (http)
18:34:17.334 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Initializing ProtocolHandler ["http-nio-auto-1"]
18:34:17.339 [main] INFO  o.a.catalina.core.StandardService– Starting service [Tomcat]
18:34:17.340 [main] INFO  o.a.catalina.core.StandardEngine– Starting Servlet engine: [Apache Tomcat/10.1.5]
18:34:17.684 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring embedded WebApplicationContext
18:34:17.686 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext– Root WebApplicationContext: initialization completed in 5603 ms
18:34:18.697 [main] INFO  o.h.jpa.internal.util.LogHelper– HHH000204: Processing PersistenceUnitInfo [name: default]
18:34:18.978 [main] INFO  org.hibernate.Version– HHH000412: Hibernate ORM core version 6.1.7.Final
18:34:19.883 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Starting...
18:34:20.206 [main] INFO  com.zaxxer.hikari.pool.HikariPool– HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61fa3583
18:34:20.210 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Start completed.
18:34:20.290 [main] INFO  SQL dialect– HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
18:34:22.338 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator– HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
18:34:22.360 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Initialized JPA EntityManagerFactory for persistence unit 'default'
18:34:25.158 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration– spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
18:34:25.956 [main] INFO  o.s.s.w.DefaultSecurityFilterChain– Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68226b59, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3674164b, org.springframework.security.web.context.SecurityContextHolderFilter@3e03d75e, org.springframework.security.web.header.HeaderWriterFilter@41f57420, org.springframework.security.web.authentication.logout.LogoutFilter@428e875f, com.fox.factory.security.JwtAuthenticationFilter@ab5954d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ec8afc4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7cc8fd4b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b1e5366, org.springframework.security.web.session.SessionManagementFilter@70bbc163, org.springframework.security.web.access.ExceptionTranslationFilter@5c3cc103, org.springframework.security.web.access.intercept.AuthorizationFilter@264f18fe]
18:34:42.394 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring TestDispatcherServlet ''
18:34:42.395 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Initializing Servlet ''
18:34:42.409 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver– Exposing 1 endpoint(s) beneath base path '/actuator'
18:34:42.442 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Completed initialization in 47 ms
18:34:42.608 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Starting ProtocolHandler ["http-nio-auto-1"]
18:34:42.693 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat started on port(s): 58598 (http) with context path ''
18:34:42.720 [main] INFO  c.f.factory.ProductControllerTests– Started ProductControllerTests in 31.487 seconds (process running for 44.137)
18:34:43.389 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 166 method execution(public java.util.List com.fox.factory.service.CatrgoryService.getAll())
18:34:43.643 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring DispatcherServlet 'dispatcherServlet'
18:34:43.644 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Initializing Servlet 'dispatcherServlet'
18:34:43.645 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Completed initialization in 1 ms
18:34:43.826 [http-nio-auto-1-exec-1] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 34 method execution(public com.fox.factory.entities.dto.CommentsDto com.fox.factory.service.CommentService.create(com.fox.factory.entities.dto.CommentCreateDto))
18:34:43.876 [http-nio-auto-1-exec-1] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 135 method execution(public com.fox.factory.entities.dto.ProductDetailDto com.fox.factory.service.ProductService.commentProduct(java.lang.Long,com.fox.factory.entities.dto.CommentCreateDto))
18:34:44.240 [http-nio-auto-1-exec-3] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 165 method execution(public java.util.List com.fox.factory.service.ProductService.findByCategoriesAndNames(java.util.List,java.lang.String,org.springframework.data.domain.Pageable))
18:34:44.338 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 2 method execution( com.fox.factory.entities.Product com.fox.factory.service.ProductService.saveFormEntity(com.fox.factory.entities.Product))
18:34:44.345 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 61 method execution(public void com.fox.factory.service.ProductImageService.deleteImg(java.lang.Long))
18:34:44.376 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper– SQL Error: 0, SQLState: 23503
18:34:44.376 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper– ОШИБКА: UPDATE или DELETE в таблице "product_image" нарушает ограничение внешнего ключа "fk8eet3q38esevl4newv1tqcapj" таблицы "product_product_image_set"
  Detail: На ключ (id)=(1) всё ещё есть ссылки в таблице "product_product_image_set".
18:34:44.378 [main] INFO  o.h.e.j.b.i.AbstractBatchImpl– HHH000010: On release of batch it still contained JDBC statements
18:34:44.441 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 12 method execution(public com.fox.factory.entities.dto.ProductImageDto1 com.fox.factory.service.ProductImageService.getById(java.lang.Long))
18:34:44.578 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 27 method execution(public com.fox.factory.entities.dto.ProductDetailDto com.fox.factory.service.ProductService.addImageToProduct(java.lang.Long,com.fox.factory.entities.ProductImage))
18:34:44.579 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 66 method execution(public com.fox.factory.entities.dto.ProductImageDto1 com.fox.factory.service.ProductImageService.createFromObject(java.lang.Long,com.fox.factory.entities.ProductImage))
18:34:44.657 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Closing JPA EntityManagerFactory for persistence unit 'default'
18:34:44.661 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown initiated...
18:34:44.666 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown completed.
18:43:53.875 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils– Could not detect default configuration classes for test class [com.fox.factory.ProductControllerTests]: ProductControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:43:54.078 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper– Found @SpringBootConfiguration com.fox.factory.FactoryApplication for test class com.fox.factory.ProductControllerTests
18:43:54.675 [background-preinit] INFO  o.h.validator.internal.util.Version– HV000001: Hibernate Validator 8.0.0.Final
18:43:54.785 [main] INFO  c.f.factory.ProductControllerTests– Starting ProductControllerTests using Java 17.0.6 with PID 13884 (started by kave7 in C:\Users\kave7\IdeaProjects\factory)
18:43:54.788 [main] INFO  c.f.factory.ProductControllerTests– No active profile set, falling back to 1 default profile: "default"
18:43:56.123 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:43:56.277 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Finished Spring Data repository scanning in 142 ms. Found 8 JPA repository interfaces.
18:43:59.277 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat initialized with port(s): 0 (http)
18:43:59.297 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Initializing ProtocolHandler ["http-nio-auto-1"]
18:43:59.298 [main] INFO  o.a.catalina.core.StandardService– Starting service [Tomcat]
18:43:59.299 [main] INFO  o.a.catalina.core.StandardEngine– Starting Servlet engine: [Apache Tomcat/10.1.5]
18:43:59.527 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring embedded WebApplicationContext
18:43:59.528 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext– Root WebApplicationContext: initialization completed in 4705 ms
18:44:00.402 [main] INFO  o.h.jpa.internal.util.LogHelper– HHH000204: Processing PersistenceUnitInfo [name: default]
18:44:00.630 [main] INFO  org.hibernate.Version– HHH000412: Hibernate ORM core version 6.1.7.Final
18:44:01.362 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Starting...
18:44:01.674 [main] INFO  com.zaxxer.hikari.pool.HikariPool– HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38856d6e
18:44:01.679 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Start completed.
18:44:01.738 [main] INFO  SQL dialect– HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
18:44:03.641 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator– HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
18:44:03.657 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Initialized JPA EntityManagerFactory for persistence unit 'default'
18:44:05.830 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration– spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
18:44:06.379 [main] INFO  o.s.s.w.DefaultSecurityFilterChain– Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63a833c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c310aa3, org.springframework.security.web.context.SecurityContextHolderFilter@36361951, org.springframework.security.web.header.HeaderWriterFilter@2c6c6b7b, org.springframework.security.web.authentication.logout.LogoutFilter@2b1f0667, com.fox.factory.security.JwtAuthenticationFilter@4a648b35, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16488ed7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ac2772d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f7b4953, org.springframework.security.web.session.SessionManagementFilter@592efd6, org.springframework.security.web.access.ExceptionTranslationFilter@6d98e607, org.springframework.security.web.access.intercept.AuthorizationFilter@2968d3c0]
18:44:21.826 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring TestDispatcherServlet ''
18:44:21.827 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Initializing Servlet ''
18:44:21.851 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver– Exposing 1 endpoint(s) beneath base path '/actuator'
18:44:21.891 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Completed initialization in 64 ms
18:44:22.131 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Starting ProtocolHandler ["http-nio-auto-1"]
18:44:22.274 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat started on port(s): 65020 (http) with context path ''
18:44:22.324 [main] INFO  c.f.factory.ProductControllerTests– Started ProductControllerTests in 28.02 seconds (process running for 39.8)
18:44:23.225 [main] ERROR c.fox.factory.utils.LoggingAspect– Error occured while timing and executing method execution(public com.fox.factory.entities.dto.OrderItemInListDto com.fox.factory.service.OrderItemService.create(com.fox.factory.entities.dto.OrderItemInListDto))MSG: java.lang.NullPointerException: Cannot invoke "com.fox.factory.entities.dto.ProductListDto.getPrice()" because the return value of "com.fox.factory.entities.dto.OrderItemInListDto.getProduct()" is null
18:44:23.228 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 4 method execution(public com.fox.factory.entities.dto.OrderItemInListDto com.fox.factory.service.OrderItemService.create(com.fox.factory.entities.dto.OrderItemInListDto))
18:44:23.230 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 0 method execution(public com.fox.factory.entities.OrderItem com.fox.factory.service.OrderItemService.getObjectFromDto(com.fox.factory.entities.dto.OrderItemInListDto))
18:44:23.440 [main] ERROR c.fox.factory.utils.LoggingAspect– Error occured while timing and executing method execution(public com.fox.factory.entities.dto.OrderDto com.fox.factory.service.OrderService.addOrderItem(java.lang.Long,com.fox.factory.entities.OrderItem))MSG: java.lang.NullPointerException: Cannot invoke "java.lang.Double.doubleValue()" because "this.totalPrice" is null
18:44:23.440 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 209 method execution(public com.fox.factory.entities.dto.OrderDto com.fox.factory.service.OrderService.addOrderItem(java.lang.Long,com.fox.factory.entities.OrderItem))
18:44:23.770 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 167 method execution(public java.util.List com.fox.factory.service.CatrgoryService.getAll())
18:44:23.993 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring DispatcherServlet 'dispatcherServlet'
18:44:23.993 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Initializing Servlet 'dispatcherServlet'
18:44:23.996 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Completed initialization in 3 ms
18:44:24.089 [http-nio-auto-1-exec-1] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 34 method execution(public com.fox.factory.entities.dto.CommentsDto com.fox.factory.service.CommentService.create(com.fox.factory.entities.dto.CommentCreateDto))
18:44:24.122 [http-nio-auto-1-exec-1] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 86 method execution(public com.fox.factory.entities.dto.ProductDetailDto com.fox.factory.service.ProductService.commentProduct(java.lang.Long,com.fox.factory.entities.dto.CommentCreateDto))
18:44:24.418 [http-nio-auto-1-exec-3] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 144 method execution(public java.util.List com.fox.factory.service.ProductService.findByCategoriesAndNames(java.util.List,java.lang.String,org.springframework.data.domain.Pageable))
18:44:24.470 [main] ERROR c.fox.factory.utils.LoggingAspect– Error occured while timing and executing method execution(public void com.fox.factory.service.ProductImageService.deleteImg(java.lang.Long))MSG: java.lang.NullPointerException: Cannot invoke "com.fox.factory.entities.Product.removeImage(com.fox.factory.entities.ProductImage)" because "product" is null
18:44:24.471 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 12 method execution(public void com.fox.factory.service.ProductImageService.deleteImg(java.lang.Long))
18:44:24.538 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 33 method execution(public java.util.List com.fox.factory.service.OrderItemService.create(java.util.List))
18:44:24.544 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 0 method execution(public java.util.List com.fox.factory.service.OrderItemService.getObjectFromDto(java.util.List))
18:44:24.556 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 10 method execution(public com.fox.factory.entities.dto.OrderDto com.fox.factory.service.OrderService.addOrderItem(java.lang.Long,java.util.List))
18:44:24.578 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper– SQL Error: 0, SQLState: 23505
18:44:24.578 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper– ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk_lth6091twteddi1eirmyux5da"
  Detail: Ключ "(item_set_id)=(1)" уже существует.
18:44:24.581 [main] INFO  o.h.e.j.b.i.AbstractBatchImpl– HHH000010: On release of batch it still contained JDBC statements
18:44:24.640 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 17 method execution(public com.fox.factory.entities.dto.ProductImageDto1 com.fox.factory.service.ProductImageService.getById(java.lang.Long))
18:44:24.700 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 7 method execution(public com.fox.factory.entities.dto.OrderDto com.fox.factory.service.OrderService.removeOrderItem(java.lang.Long,java.lang.Long))
18:44:24.708 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 6 method execution(public void com.fox.factory.service.OrderItemService.delete(java.lang.Long))
18:44:24.710 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper– SQL Error: 0, SQLState: 23503
18:44:24.711 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper– ОШИБКА: UPDATE или DELETE в таблице "order_item" нарушает ограничение внешнего ключа "fknrb6sy2u8bn97ejoc0misnn3r" таблицы "shop_orders_item_set"
  Detail: На ключ (id)=(1) всё ещё есть ссылки в таблице "shop_orders_item_set".
18:44:24.711 [main] INFO  o.h.e.j.b.i.AbstractBatchImpl– HHH000010: On release of batch it still contained JDBC statements
18:44:24.782 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 32 method execution(public com.fox.factory.entities.dto.ProductDetailDto com.fox.factory.service.ProductService.addImageToProduct(java.lang.Long,com.fox.factory.entities.ProductImage))
18:44:24.782 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 45 method execution(public com.fox.factory.entities.dto.ProductImageDto1 com.fox.factory.service.ProductImageService.createFromObject(java.lang.Long,com.fox.factory.entities.ProductImage))
18:44:24.869 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Closing JPA EntityManagerFactory for persistence unit 'default'
18:44:24.874 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown initiated...
18:44:24.881 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown completed.
18:51:06.735 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils– Could not detect default configuration classes for test class [com.fox.factory.ProductControllerTests]: ProductControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:51:06.928 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper– Found @SpringBootConfiguration com.fox.factory.FactoryApplication for test class com.fox.factory.ProductControllerTests
18:51:08.639 [background-preinit] INFO  o.h.validator.internal.util.Version– HV000001: Hibernate Validator 8.0.0.Final
18:51:08.761 [main] INFO  c.f.factory.ProductControllerTests– Starting ProductControllerTests using Java 17.0.6 with PID 36704 (started by kave7 in C:\Users\kave7\IdeaProjects\factory)
18:51:08.763 [main] INFO  c.f.factory.ProductControllerTests– No active profile set, falling back to 1 default profile: "default"
18:51:10.233 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:51:10.395 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Finished Spring Data repository scanning in 149 ms. Found 8 JPA repository interfaces.
18:51:13.387 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat initialized with port(s): 0 (http)
18:51:13.402 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Initializing ProtocolHandler ["http-nio-auto-1"]
18:51:13.403 [main] INFO  o.a.catalina.core.StandardService– Starting service [Tomcat]
18:51:13.404 [main] INFO  o.a.catalina.core.StandardEngine– Starting Servlet engine: [Apache Tomcat/10.1.5]
18:51:13.590 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring embedded WebApplicationContext
18:51:13.591 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext– Root WebApplicationContext: initialization completed in 4785 ms
18:51:14.392 [main] INFO  o.h.jpa.internal.util.LogHelper– HHH000204: Processing PersistenceUnitInfo [name: default]
18:51:14.581 [main] INFO  org.hibernate.Version– HHH000412: Hibernate ORM core version 6.1.7.Final
18:51:15.049 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Starting...
18:51:15.361 [main] INFO  com.zaxxer.hikari.pool.HikariPool– HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3f267e1b
18:51:15.365 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Start completed.
18:51:15.411 [main] INFO  SQL dialect– HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
18:51:17.195 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator– HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
18:51:17.210 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Initialized JPA EntityManagerFactory for persistence unit 'default'
18:51:19.199 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration– spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
18:51:19.687 [main] INFO  o.s.s.w.DefaultSecurityFilterChain– Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4fe0aa21, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d1f906b, org.springframework.security.web.context.SecurityContextHolderFilter@1c023dcb, org.springframework.security.web.header.HeaderWriterFilter@13c0ced1, org.springframework.security.web.authentication.logout.LogoutFilter@7a213820, com.fox.factory.security.JwtAuthenticationFilter@371a7fd5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67aedd28, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c524a7f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22fb3dde, org.springframework.security.web.session.SessionManagementFilter@413773e6, org.springframework.security.web.access.ExceptionTranslationFilter@302fa67a, org.springframework.security.web.access.intercept.AuthorizationFilter@6bbb3ec8]
18:51:34.425 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring TestDispatcherServlet ''
18:51:34.425 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Initializing Servlet ''
18:51:34.443 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver– Exposing 1 endpoint(s) beneath base path '/actuator'
18:51:34.470 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Completed initialization in 44 ms
18:51:34.661 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Starting ProtocolHandler ["http-nio-auto-1"]
18:51:34.730 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat started on port(s): 52110 (http) with context path ''
18:51:34.756 [main] INFO  c.f.factory.ProductControllerTests– Started ProductControllerTests in 26.536 seconds (process running for 39.96)
18:51:35.176 [main] ERROR c.fox.factory.utils.LoggingAspect– Error occured while timing and executing method execution(public com.fox.factory.entities.dto.OrderItemInListDto com.fox.factory.service.OrderItemService.create(com.fox.factory.entities.dto.OrderItemInListDto))MSG: java.lang.NullPointerException: Cannot invoke "com.fox.factory.entities.dto.ProductListDto.getPrice()" because the return value of "com.fox.factory.entities.dto.OrderItemInListDto.getProduct()" is null
18:51:35.180 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 3 method execution(public com.fox.factory.entities.dto.OrderItemInListDto com.fox.factory.service.OrderItemService.create(com.fox.factory.entities.dto.OrderItemInListDto))
18:51:35.182 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 0 method execution(public com.fox.factory.entities.OrderItem com.fox.factory.service.OrderItemService.getObjectFromDto(com.fox.factory.entities.dto.OrderItemInListDto))
18:51:35.351 [main] ERROR c.fox.factory.utils.LoggingAspect– Error occured while timing and executing method execution(public com.fox.factory.entities.dto.OrderDto com.fox.factory.service.OrderService.addOrderItem(java.lang.Long,com.fox.factory.entities.OrderItem))MSG: java.lang.NullPointerException: Cannot invoke "java.lang.Double.doubleValue()" because "this.totalPrice" is null
18:51:35.351 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 168 method execution(public com.fox.factory.entities.dto.OrderDto com.fox.factory.service.OrderService.addOrderItem(java.lang.Long,com.fox.factory.entities.OrderItem))
18:51:35.641 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 134 method execution(public java.util.List com.fox.factory.service.CatrgoryService.getAll())
18:51:35.683 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 4 method execution(public void com.fox.factory.service.OrderService.delete(java.lang.Long))
18:51:35.718 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver– Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'uid' for method parameter type Long is not present]
18:51:35.864 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring DispatcherServlet 'dispatcherServlet'
18:51:35.864 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Initializing Servlet 'dispatcherServlet'
18:51:35.866 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Completed initialization in 1 ms
18:51:35.950 [http-nio-auto-1-exec-1] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 28 method execution(public com.fox.factory.entities.dto.CommentsDto com.fox.factory.service.CommentService.create(com.fox.factory.entities.dto.CommentCreateDto))
18:51:35.985 [http-nio-auto-1-exec-1] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 80 method execution(public com.fox.factory.entities.dto.ProductDetailDto com.fox.factory.service.ProductService.commentProduct(java.lang.Long,com.fox.factory.entities.dto.CommentCreateDto))
18:51:36.045 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver– Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity<com.fox.factory.entities.dto.OrderDto> com.fox.factory.controllres.OrderController.create(com.fox.factory.entities.dto.OrderDto)]
18:51:36.351 [http-nio-auto-1-exec-3] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 148 method execution(public java.util.List com.fox.factory.service.ProductService.findByCategoriesAndNames(java.util.List,java.lang.String,org.springframework.data.domain.Pageable))
18:51:36.396 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver– Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity<com.fox.factory.entities.dto.OrderDto> com.fox.factory.controllres.OrderController.changeOrder(java.lang.Long,com.fox.factory.entities.dto.OrderDto) throws com.fox.factory.exceptions.InchangableOrderException]
18:51:36.445 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 17 method execution(public com.fox.factory.entities.dto.ProductImageDto1 com.fox.factory.service.ProductImageService.getById(java.lang.Long))
18:51:36.573 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 36 method execution(public com.fox.factory.entities.dto.ProductDetailDto com.fox.factory.service.ProductService.addImageToProduct(java.lang.Long,com.fox.factory.entities.ProductImage))
18:51:36.574 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 51 method execution(public com.fox.factory.entities.dto.ProductImageDto1 com.fox.factory.service.ProductImageService.createFromObject(java.lang.Long,com.fox.factory.entities.ProductImage))
18:51:36.593 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 4 method execution(public com.fox.factory.entities.dto.OrderDto com.fox.factory.service.OrderService.getByIdDto(java.lang.Long))
18:51:36.671 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Closing JPA EntityManagerFactory for persistence unit 'default'
18:51:36.675 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown initiated...
18:51:36.682 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown completed.
18:53:51.194 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils– Could not detect default configuration classes for test class [com.fox.factory.ProductControllerTests]: ProductControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
18:53:51.416 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper– Found @SpringBootConfiguration com.fox.factory.FactoryApplication for test class com.fox.factory.ProductControllerTests
18:53:52.902 [background-preinit] INFO  o.h.validator.internal.util.Version– HV000001: Hibernate Validator 8.0.0.Final
18:53:53.009 [main] INFO  c.f.factory.ProductControllerTests– Starting ProductControllerTests using Java 17.0.6 with PID 30764 (started by kave7 in C:\Users\kave7\IdeaProjects\factory)
18:53:53.010 [main] INFO  c.f.factory.ProductControllerTests– No active profile set, falling back to 1 default profile: "default"
18:53:54.398 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:53:54.578 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate– Finished Spring Data repository scanning in 167 ms. Found 8 JPA repository interfaces.
18:53:57.643 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat initialized with port(s): 0 (http)
18:53:57.668 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Initializing ProtocolHandler ["http-nio-auto-1"]
18:53:57.671 [main] INFO  o.a.catalina.core.StandardService– Starting service [Tomcat]
18:53:57.672 [main] INFO  o.a.catalina.core.StandardEngine– Starting Servlet engine: [Apache Tomcat/10.1.5]
18:53:57.967 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring embedded WebApplicationContext
18:53:57.969 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext– Root WebApplicationContext: initialization completed in 4927 ms
18:53:58.817 [main] INFO  o.h.jpa.internal.util.LogHelper– HHH000204: Processing PersistenceUnitInfo [name: default]
18:53:58.995 [main] INFO  org.hibernate.Version– HHH000412: Hibernate ORM core version 6.1.7.Final
18:53:59.430 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Starting...
18:53:59.712 [main] INFO  com.zaxxer.hikari.pool.HikariPool– HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3f267e1b
18:53:59.716 [main] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Start completed.
18:53:59.762 [main] INFO  SQL dialect– HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
18:54:01.614 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator– HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
18:54:01.627 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Initialized JPA EntityManagerFactory for persistence unit 'default'
18:54:03.903 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration– spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
18:54:04.470 [main] INFO  o.s.s.w.DefaultSecurityFilterChain– Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@260d878a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13190355, org.springframework.security.web.context.SecurityContextHolderFilter@6eec092, org.springframework.security.web.header.HeaderWriterFilter@64b7719f, org.springframework.security.web.authentication.logout.LogoutFilter@1e7245da, com.fox.factory.security.JwtAuthenticationFilter@371a7fd5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ce50c82, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75f2a654, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f664881, org.springframework.security.web.session.SessionManagementFilter@17fd9fbb, org.springframework.security.web.access.ExceptionTranslationFilter@6f9c272b, org.springframework.security.web.access.intercept.AuthorizationFilter@77e8492f]
18:54:19.120 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring TestDispatcherServlet ''
18:54:19.121 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Initializing Servlet ''
18:54:19.135 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver– Exposing 1 endpoint(s) beneath base path '/actuator'
18:54:19.162 [main] INFO  o.s.t.w.s.TestDispatcherServlet– Completed initialization in 40 ms
18:54:19.372 [main] INFO  o.a.coyote.http11.Http11NioProtocol– Starting ProtocolHandler ["http-nio-auto-1"]
18:54:19.447 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer– Tomcat started on port(s): 53553 (http) with context path ''
18:54:19.476 [main] INFO  c.f.factory.ProductControllerTests– Started ProductControllerTests in 26.946 seconds (process running for 39.429)
18:54:19.908 [main] ERROR c.fox.factory.utils.LoggingAspect– Error occured while timing and executing method execution(public com.fox.factory.entities.dto.OrderItemInListDto com.fox.factory.service.OrderItemService.create(com.fox.factory.entities.dto.OrderItemInListDto))MSG: java.lang.NullPointerException: Cannot invoke "com.fox.factory.entities.dto.ProductListDto.getPrice()" because the return value of "com.fox.factory.entities.dto.OrderItemInListDto.getProduct()" is null
18:54:19.911 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 3 method execution(public com.fox.factory.entities.dto.OrderItemInListDto com.fox.factory.service.OrderItemService.create(com.fox.factory.entities.dto.OrderItemInListDto))
18:54:19.913 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 0 method execution(public com.fox.factory.entities.OrderItem com.fox.factory.service.OrderItemService.getObjectFromDto(com.fox.factory.entities.dto.OrderItemInListDto))
18:54:20.083 [main] ERROR c.fox.factory.utils.LoggingAspect– Error occured while timing and executing method execution(public com.fox.factory.entities.dto.OrderDto com.fox.factory.service.OrderService.addOrderItem(java.lang.Long,com.fox.factory.entities.OrderItem))MSG: java.lang.NullPointerException: Cannot invoke "java.lang.Double.doubleValue()" because "this.totalPrice" is null
18:54:20.084 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 170 method execution(public com.fox.factory.entities.dto.OrderDto com.fox.factory.service.OrderService.addOrderItem(java.lang.Long,com.fox.factory.entities.OrderItem))
18:54:20.358 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 121 method execution(public java.util.List com.fox.factory.service.CatrgoryService.getAll())
18:54:20.391 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 4 method execution(public void com.fox.factory.service.OrderService.delete(java.lang.Long))
18:54:20.409 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver– Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'uid' for method parameter type Long is not present]
18:54:20.550 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/]– Initializing Spring DispatcherServlet 'dispatcherServlet'
18:54:20.551 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Initializing Servlet 'dispatcherServlet'
18:54:20.552 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet– Completed initialization in 1 ms
18:54:20.637 [http-nio-auto-1-exec-1] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 30 method execution(public com.fox.factory.entities.dto.CommentsDto com.fox.factory.service.CommentService.create(com.fox.factory.entities.dto.CommentCreateDto))
18:54:20.671 [http-nio-auto-1-exec-1] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 83 method execution(public com.fox.factory.entities.dto.ProductDetailDto com.fox.factory.service.ProductService.commentProduct(java.lang.Long,com.fox.factory.entities.dto.CommentCreateDto))
18:54:20.726 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver– Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity<com.fox.factory.entities.dto.OrderDto> com.fox.factory.controllres.OrderController.create(com.fox.factory.entities.dto.OrderDto)]
18:54:20.992 [http-nio-auto-1-exec-3] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 154 method execution(public java.util.List com.fox.factory.service.ProductService.findByCategoriesAndNames(java.util.List,java.lang.String,org.springframework.data.domain.Pageable))
18:54:21.037 [main] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver– Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity<com.fox.factory.entities.dto.OrderDto> com.fox.factory.controllres.OrderController.changeOrder(java.lang.Long,com.fox.factory.entities.dto.OrderDto) throws com.fox.factory.exceptions.InchangableOrderException]
18:54:21.093 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 20 method execution(public com.fox.factory.entities.dto.ProductImageDto1 com.fox.factory.service.ProductImageService.getById(java.lang.Long))
18:54:21.229 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 50 method execution(public com.fox.factory.entities.dto.ProductDetailDto com.fox.factory.service.ProductService.addImageToProduct(java.lang.Long,com.fox.factory.entities.ProductImage))
18:54:21.230 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 68 method execution(public com.fox.factory.entities.dto.ProductImageDto1 com.fox.factory.service.ProductImageService.createFromObject(java.lang.Long,com.fox.factory.entities.ProductImage))
18:54:21.267 [main] INFO  c.fox.factory.utils.LoggingAspect– Execution time (milis) 20 method execution(public com.fox.factory.entities.dto.OrderDto com.fox.factory.service.OrderService.getByIdDto(java.lang.Long))
18:54:21.375 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean– Closing JPA EntityManagerFactory for persistence unit 'default'
18:54:21.379 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown initiated...
18:54:21.384 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource– HikariPool-1 - Shutdown completed.
